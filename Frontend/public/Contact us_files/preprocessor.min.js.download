window.ppStartTime=performance.now();window.heatLoadedScripts=[];window.heatmapSessionTag={};
var nodeConfigs={},heatVisitData={},visitRecordSent={loghsr:!1,visit:!1,pageview:!1,preprocessor:!1,heatmaplight:!1,to_generate:!1},createNewVisitRequired=!1,previousIdVisit="",preHeatmapSiteId="",heartBeatBeacons="",clickedSelectors=[],isReturningUser=0,sessionState=!!window.browserState&&"bot-testing"==window.browserState,isGoalBuyer=localStorage.getItem("heatIsGoalBuyer"),isGoalBuyerValue=localStorage.getItem("heatIsGoalBuyerValue"),isGoalBuyerCurrency=localStorage.getItem("heatIsGoalBuyerCurrency");
window._heatmapDEBUG=!1;window.savedBreakPoints=localStorage.getItem("heatmapDebugger");window.savedBreakPoints?(window.savedBreakPoints=JSON.parse(window.savedBreakPoints),window.heatmapBreakPoints=window.savedBreakPoints?.heatmapCDBreakPointMenuItems||{}):window.heatmapBreakPoints={};if("undefined"===typeof heatUrl)var heatUrl="https://dashboard.heatmap.com/";
function sendHeatBeatBeacon(a,b="",c=""){try{let d={sendBeacon:a,siteid:preHeatmapSiteId,page_url:`${window.location.origin}${window.location.pathname}`,idSiteHsr:b,idVisit:generatedIdVisit};c&&(d.userJourney=c);navigator.sendBeacon(`${heatUrl}heatmap.php`,JSON.stringify(d))}catch(d){return""}}
function getHeatmapPageSid(){try{var a=/(preprocessor(?:-s3)?(?:\.min)?\.js\?sid=[^'"&]+)|(heatmap-light(?:\.min)?\.js\?sid=[^'"&]+)|(preprocessor(?:\.min)?\.js\?sid=[^'"&]+)|(heatmap\.js\?sid=[^'"&]+)/,b=document.head.innerHTML.match(a);b&&(b[1]||b[2]||b[3]||b[4])||(b=document.body.innerHTML.match(a));if(b&&(b[1]||b[2]||b[3]||b[4])){let c=(b[1]||b[2]||b[3]||b[4]).split("=")[1];return preHeatmapSiteId=parseInt(c)}}catch(c){}return null}
if("undefined"===typeof _heatmap_paq){var _heatmap_paq=window._heatmap_paq=window._heatmap_paq||[];if("undefined"!==typeof window._paq&&0!==window._paq.length){let a=!0;for(let b=0;b<_paq.length;b++)if(Array.isArray(_paq[b])){let c=_paq[b][1];if("setTrackerUrl"===_paq[b][0]&&c!==heatUrl){a=!1;break}}0==a?_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"]):_heatmap_paq=window._paq}_heatmap_paq.some(a=>a.includes("setTrackerUrl"))||_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"])}
function loadScriptHeatmap(a,b=null){if(window.heatLoadedScripts[a])b&&"function"===typeof b&&b();else{var c=document.createElement("script");c.type="text/javascript";c.src=a;c.async=!1;c.defer=!0;c.onload=function(){window.heatLoadedScripts[a]=!0;b&&"function"===typeof b&&b()};document.head.appendChild(c)}}
function triggerDebugger(){getHeatmapPageSid();var a=JSON.parse(localStorage.getItem("heatmapDebugger"));a?(a.hasOwnProperty("jsFilesStatus")&&delete a.jsFilesStatus,a.hasOwnProperty("heatmapLightLT")&&delete a.heatmapLightLT,a.hasOwnProperty("conversionsLT")&&delete a.jsFilesStatus,a.hasOwnProperty("conversionsLT")&&delete a.conversionsLT,a.hasOwnProperty("heatmapCDPreprocessor")&&delete a.heatmapCDPreprocessor,a.hasOwnProperty("heatmapCDHeatmapLight")&&delete a.heatmapCDHeatmapLight,a.hasOwnProperty("heatmapCDConversions")&&
delete a.heatmapCDConversions):a={};localStorage.setItem("heatmapDebugger",JSON.stringify(a));a=window.location.href.includes("debugMode");localStorage.removeItem("heatmap_cxd_visit_logs_hsr_plt_status");if(a||localStorage.getItem("setDebug"))window._heatmapDEBUG=!0,localStorage.setItem("setDebug",1),loadScriptHeatmap(`${heatUrl}heatmap-debugger.js`),heatSaveStore("heatmapCDPreprocessor",{status:1,data:{}},"heatmapDebugger")}triggerDebugger();
function heatmapParamString(a){if(!isURL(a))return"";a=new URL(a);var b=new URLSearchParams(a.search);a={};const c=["page","pages","pg","v"];for(const [d,e]of b.entries())c.includes(d)&&(b=e.toLowerCase(),"v"===d&&"a b gma gmb cta ctb".split(" ").includes(b)?a[d]=b:"v"!==d&&(a[d]=b));return 0<Object.keys(a).length?"-"+(new URLSearchParams(a)).toString().replace(/[?=&]/g,"-"):""}
function heatCleanUrl(a){let b=heatmapParamString(a);var c=a.match(/^https?:\/\//);c=c?c[0]:"";a=a.split("?")[0].replace(/\/+$/,"").replace(/^(https?:\/\/)?(www\.)?/,"");return c+a+b}function heatRetrieveStore(a,b=null){if(!localStorage.getItem(a))return null;a=localStorage.getItem(a);if(null==b)return a;a=JSON.parse(a);b=heatCleanUrl(b);return a[b]?a[b]:null}
function debuggerNeedsUpdate(a){["heatmapCDHeatmapLight","heatmapCDPreprocessor","heatmapCDConversions"].includes(a)&&localStorage.setItem("debugger_needs_update",a)}function heatSaveStore(a,b,c="allHeatmapsIds"){let d=heatCleanUrl(a),e={},f=heatRetrieveStore(`${c}`);f&&(e=JSON.parse(f));e[d]=b;debuggerNeedsUpdate(a);return localStorage.setItem(`${c}`,JSON.stringify(e))}
function heatmapPGetDeviceFromStore(){return"undefined"===typeof navigator?1:480>=window.innerWidth?3:480<=window.innerWidth&&850>=window.innerWidth?2:1}function setHeatmapCrossDomainCookie(a,b,c){const d=new Date;let e=location.host,f=e.split(".");f[0]="";d.setTime(d.getTime()+864E5*c);c="expires="+d.toUTCString();a=a+"="+b+";"+c+";path=/";a=e&&2<f.length?a+(";domain="+f.join(".")):a+(";domain=."+e);document.cookie=a}
function heatmapGenerateUniqueId(a,b="_idl"){a=a?a:getHeatmapPageSid();var c=new Date,d=c.getFullYear().toString().slice(-1),e=(parseInt(c.getMonth())+1).toString();const f=c.getDate().toString().padStart(2,"0"),r=c.getHours().toString().padStart(2,"0"),t=c.getMinutes().toString().padStart(2,"0"),u=c.getSeconds().toString().padStart(2,"0");c=c.getMilliseconds().toString().padStart(3,"0");const v=Math.floor(100*Math.random()).toString().padStart(4,"0");let k=`${d}${e}${f}${r}${t}${u}${c}${v}`;k=k.replace(/\D/g,
"");18>k.length?(d=18-k.length,e=Math.floor(Math.random()*Math.pow(10,d)).toString().padStart(d,"0"),k=k*Math.pow(10,d)+e):18<k.length&&(k=k.slice(-18));18446744073709551615n<BigInt(k)&&(k=k.substring(1));"_idv"==b&&(d={idVisit:k,_heatIdvUpdated:(new Date).getTime()},heatSaveStore("_heatIdVisit",d,"_heatmapConfigs"),localStorage.setItem("_heatVid",k),setHeatmapCrossDomainCookie(`_heatVid_${a}`,k,1),setHeatmapCrossDomainCookie(`_heatIdvUpdated_${a}`,d._heatIdvUpdated,1));setTimeout(()=>{"_idl"==b&&
("undefined"!==typeof heatmapDebugger?heatmapDebugger.updateIdvIdl(b,k):localStorage.setItem("_heatidL",k))},1E3);return k}function heatmapRandomString(a){for(var b="";0<a;--a)b+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return b}function getHeatmapCrossDomainCookie(a){var b=document.cookie.split(";");try{for(var c=null,d=0;d<b.length;d++){var e=b[d].split("="),f=e[1];if(e[0].trim()===a.trim()){c=f;break}}return c}catch(r){}}
function getGeneratedVisitId(a=!1,b=null){var c=heatRetrieveStore("_heatmapConfigs","_heatIdVisit"),d=getHeatmapCrossDomainCookie(`_heatVid_${b}`),e=getHeatmapCrossDomainCookie(`_heatIdvUpdated_${b}`);!0===a?b=heatmapGenerateUniqueId(b,"_idv"):d?(c=(new Date).getTime()-e,7200<Math.floor(c/1E3)?(isReturningUser=1,isGoalBuyer=0,previousIdVisit=d,heatSaveStore("_heatEventsCount",0,"_heatmapConfigs"),heatSaveStore("heatmapClientId",0,"_heatmapConfigs"),b=heatmapGenerateUniqueId(b,"_idv"),createNewVisitRequired=
!0):b=d,localStorage.setItem("_heatVid",b)):c?(d=(new Date).getTime()-c._heatIdvUpdated,7200<Math.floor(d/1E3)?(isReturningUser=1,isGoalBuyer=0,previousIdVisit=c.idVisit,heatSaveStore("_heatEventsCount",0,"_heatmapConfigs"),heatSaveStore("heatmapClientId",0,"_heatmapConfigs"),b=heatmapGenerateUniqueId(b,"_idv"),createNewVisitRequired=!0):b=c.idVisit):(createNewVisitRequired=!0,b=heatmapGenerateUniqueId(b,"_idv"));createNewVisitRequired&&heatSaveStore("_userJourney",null,"_heatmapConfigs");localStorage.setItem("_heatDeviceType",
heatmapPGetDeviceFromStore());heatSaveStore("isReturningUser",isReturningUser,"_heatmapConfigs");return b}window.heatMapLoaded=!1;window.contentEngagement=!0;window.currentHeatmapURL=window.location.href;window.Client_url=new URL(window.location.href);window.heatSearchParams=new URLSearchParams(window.location.search);window.heatPauseBeforeSCreenshot=window.location.href.includes("pause_before_screenshot=1");window.heatmapRateLimiting=heatRetrieveStore("_heatmapConfigs","heatmapTracking");
var heaturl=new URL(currentHeatmapURL);heaturl.search="";window.heatSiteHref=heaturl.href;var configsResponse={},heatmapConfigsHasBeenAssigned=!1,heatmapHsrIds=0,heatmapLogsObject=[],preHeatSiteType="ecommerce",hrs_vidp=heatmapRandomString(10),hrs_pvidp=heatmapRandomString(6),regenConfiguration=window.location.href.includes("heatmap_config=1");myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord");
var generatedIdloghsr=heatmapGenerateUniqueId(preHeatmapSiteId,"_idl"),generatedIdVisit=getGeneratedVisitId(!1,preHeatmapSiteId),N=1,aH=9,o=10,P=8,w=3,LB=5,_heatDBG=!1,TmInterval=250,XYIntrvl=10,heatmapPNewVisitor=0,heatBrowFeatures={},ax=["button","submit","reset"],clcks=[],tstclks=[],triggerSinglepage=!1,heatmapConfigsResponse={heatmap:{heatmaps:[],sessions:[],idsite:preHeatmapSiteId,trackerid:heatmapRandomString(8)},idsite:preHeatmapSiteId,trackerid:heatmapRandomString(8)},heatmapClientId=heatRetrieveStore("_heatmapConfigs",
"heatmapClientId");window.pre_start_time=(new Date).getTime();window._heatmap_pre_clicks=[];window.heatviewsent=0;window.heatmapRateLimiting||(heatmapClientId=null);function cleanURL(a){let b=heatmapParamString(a);a=a.replace(/\/$/,"");a=a.replace(/^(https?:\/\/)?(www\.)/i,"");a=a.replace(/^(https?:\/\/)/i,"");a=a.replace(/\?.*/,"");a=a.split("#")[0];a=a.replace(/\/+$/,"");a=a.replace(/\//g,"-");a+=b;a=decodeURIComponent(a);a=a.replace(/[^\w\s\-.]/gi,"");return a.toLowerCase()}
function isURL(a){return a.startsWith("https")?!0:!1}
function handleNodeConfigs(a,b=1500){_heatDBG=!1;heatSaveStore("_heatMapEnvRecord",a.envVars,"_heatmapConfigs");heatSaveStore("_heatmapConfigUrl",a.envVars.CONFIGURL,"_heatmapConfigs");heatmapConfigsResponse.envVars={};heatmapConfigsResponse.heatmap.urlPaths={};heatmapHsrIds=heatmapConfigsResponse.heatmap.heatmaps[0].id;setTimeout(()=>{nodeConfigs=a;heatmapConfigsHasBeenAssigned||"undefined"===typeof HeatmapTracker||(myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord"),HeatmapTracker.HeatmapSessionRecording.configuration.assign(configsResponse))},
b)}
async function callNodeConfigs(a=2E3,b=!1){if(null==preHeatmapSiteId||nodeConfigs._req&&!b)return!0;try{const c=`https://c.heatmap.com/${preHeatmapSiteId}/${cleanURL(currentHeatmapURL)}.json`;fetch(c,{method:"GET",cache:"no-cache"}).then(d=>d.text()).then(d=>{heatmapConfigsResponse=JSON.parse(d);"undefined"!==typeof heatmapConfigsResponse.heatmaps&&(heatmapConfigsResponse.heatmap={},heatmapConfigsResponse.envVars=heatmapConfigsResponse.urlPaths,heatmapConfigsResponse.heatmap.idsite=heatmapConfigsResponse.idsite,heatmapConfigsResponse.heatmap.heatmaps=
heatmapConfigsResponse.heatmaps,heatmapConfigsResponse.heatmap.sessions=heatmapConfigsResponse.sessions,delete heatmapConfigsResponse.urlPaths);configsResponse=heatmapConfigsResponse.heatmap;preHeatSiteType=heatmapConfigsResponse.type?heatmapConfigsResponse.type:preHeatSiteType;if("000"==JSON.parse(d).envVars.IDSITE||regenConfiguration){d=!1;let e={idsite:preHeatmapSiteId,trackerid:heatmapRandomString(10),url:currentHeatmapURL,viewPortW:window.innerWidth,title:""!==document.title?document.title:window.location.href,
_id:heatPVisitIdFromStore(preHeatmapSiteId),force_record:0,_isQr:0,_heatUrl:heatUrl,_isQrSiteHsr:0};if(window.heatPauseBeforeSCreenshot){let f=new URLSearchParams(window.location.search);d=!0;e._req="lambda";e._isQr=1;e._isQrSiteHsr=f.get("idSideHsr")}!1===d?navigator.sendBeacon("https://cfg.heatmap.com/root/",JSON.stringify(e)):fetch(`${heatUrl}plugins/HeatmapSessionRecording/configs.php?_isQR=1`,{method:"POST",body:JSON.stringify(e)}).then(f=>{if(f.ok)return f.json()}).then(f=>{configsResponse=
heatmapConfigsResponse=f;myHeatEnv=f.envVars;heatmapConfigsHasBeenAssigned=!1;configsResponse.heatmap.heatmaps&&0<configsResponse.heatmap.heatmaps.length&&(heatmapHsrIds=configsResponse.heatmap.heatmaps[0].id);nodeConfigs=heatmapConfigsResponse;return handleNodeConfigs(f,a)})}"ecommerce"!==preHeatSiteType&&HeatmapLead();nodeConfigs=heatmapConfigsResponse;return handleNodeConfigs(heatmapConfigsResponse,a)}).catch(d=>{})}catch(c){}}callNodeConfigs();
function extractNameFromURL(){if(document.title.length)return document.title;var a=window.location.pathname,b=window.location.origin.replace("https://","").replace("www.","");if(!a||"/"===a)return b.split(".")[0];let c=a.lastIndexOf("/"),d=a.substring(1,c).split("/").pop();a=`${a.substring(c+1).split("?")[0]}`.replace(/[^\w\s]/gi," ").trim();a=d.length?`${d}: ${a}`:a;b=b.split(".");return a=2<b.length?a.replace(new RegExp(`\\.${b[b.length-2]}\\.${b[b.length-1]}$`),""):a.replace(new RegExp(`\\.${b[b.length-
1]}$`),"")}
function handleSinglePagedWebsite(a){var b=cleanURL(window.location.href),c=b;a=parseInt(a)?a:2E3;const d=()=>{window.currentHeatmapURL=window.location.href;window.Client_url=new URL(window.location.href);heaturl=new URL(window.currentHeatmapURL);window.heatSiteHref=heaturl.href;generatedIdloghsr=heatmapGenerateUniqueId(preHeatmapSiteId,"_idl");hrs_vidp=heatmapRandomString(10);window.heatviewsent=0;heatmapConfigsHasBeenAssigned=FirstHSRSentToAPI=!1;callNodeConfigs(300,!0);setTimeout(()=>{_heatmap_paq.push(["trackPageView"]);
heatVisitData.action_name=document.title;heatmapConfigsResponse.heatmap&&heatmapConfigsResponse.heatmap.heatmaps.length&&(heatmapHsrIds=heatmapConfigsResponse.heatmap.heatmaps[0].id);triggerDataPreping();"undefined"!==typeof convObj&&convObj.triggerCustomSiteSnippets&&convObj.triggerCustomSiteSnippets()},1E3)};setInterval(()=>{b=cleanURL(window.location.href);b!==c&&(d(),c=b)},a)}
heatmapClientId||async function(){fetch(`${heatUrl}heatmap.php?_req=_cip&_sid=${preHeatmapSiteId}`).then(a=>a.text()).then(a=>{a=JSON.parse(a);heatmapClientId=a._c;heatSaveStore("heatmapClientId",heatmapClientId,"_heatmapConfigs");heatSaveStore("heatmapTracking",a,"_heatmapConfigs");window.heatmapRateLimiting=a;a.singlePaged&&(triggerSinglepage=!0,handleSinglePagedWebsite(a.intervalTime));a.hasOwnProperty("contentEngagement")?window.contentEngagement=!!a.contentEngagement:window.contentEngagement=
!0}).catch(a=>{})}();null!==myHeatEnv&void 0!==myHeatEnv&&myHeatEnv.length&&(myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord"),preHeatmapSiteId=myHeatEnv.IDSITE);
function browserDetection(){var a={};if("undefined"!==typeof navigator){var b=navigator,c={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",fla:"application/x-shockwave-flash",java:"application/x-java-vm",ag:"application/x-silverlight"};if(!/MSIE/.test(b.userAgent)){if(b.mimeTypes&&b.mimeTypes.length)for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var e=b.mimeTypes[c[d]];a[d]=e&&e.enabledPlugin?1:0}!/Edge[ /](\d+[.\d]+)/.test(b.userAgent)&&
"undefined"!==typeof b.javaEnabled&&b.javaEnabled()&&(a.java="1");a.cookie=b.cookieEnabled?1:0}}return heatBrowFeatures=a}function sendFromLocalStorage(){var a=localStorage.getItem("_heatmap_unsent");a&&(a=JSON.parse(a),a.StreamName=myHeatEnv.KINESISSTREAM,navigator.sendBeacon(""+myHeatEnv.KINESISGATEWAY,JSON.stringify(a)),localStorage.removeItem("_heatmap_unsent"))}sendFromLocalStorage();
function isValidId(a){let b=!1;if(a)try{b=1===document.querySelectorAll(`#${a}`).length}catch(c){}return a&&!/\s/.test(a)&&!heatmapMatchesIDFormat(a)&&!/[:\[\]/!.]/.test(a)&&!/\d{3,}/.test(a)&&b}
function sendDomFromLocalStorage(){var a=localStorage.getItem("_heatSessDom");a&&(a={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM},navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(a)),localStorage.removeItem("_heatSessDom"))}sendDomFromLocalStorage();
function heatDoesElementHaveChildren(a){for(let b=0;b<a.childNodes.length;b++)if(a.childNodes[b].nodeType!==Node.TEXT_NODE)return!0;return!1}function validateHeatSelector(a){if("html"===a.toLowerCase())return _heatDBG&&console.log("Selector is not valid. 'html' selector is not allowed."),!1;if(0<document.querySelectorAll(a).length)return!0;_heatDBG&&console.log("Selector is not valid. No element found matching the selector:",a);return!1}
function heatHasBeforeOrAfterPseudoElement(a){try{const b=window.getComputedStyle(a,"::before"),c=window.getComputedStyle(a,"::after"),d=window.getComputedStyle(a,"::after").zIndex;return d&&0>d?!1:"none"!==b.content||"none"!==c.content}catch(b){return!1}}
var x_m={simplifyAndJoinSelectors:(a="")=>{let b=[];if(!a.length)return a;a.split(">").forEach(c=>{0<(c.match(/\.[\w-]+/g)||[]).filter(d=>/[a-f0-9-]{36}/.test(d.slice(1))).length&&(c=c.replace(/\.[\w-]+/g,""));b.push(c.trim())});return b.join(" > ")},cssPath:function(a,b){if(a instanceof Element){if(1!==a.nodeType)return"";for(var c=[],d=a;d;){const e=x_m._cssPathStep(d,!!b,d===a);if(!e)break;c.push(e);if(e.optimized)break;d=d.parentNode}c.reverse();return c.join(" > ")}},_cssPathStep:function(a,
b,c){function d(g){return(g=g.getAttribute("class"))?g.split(/\s+/g).filter(m=>m&&!/[:\[\]/!.]|(\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|(\d{5,})/.test(m)).map(m=>"$"+m):[]}function e(g){if(/^[0-9]|-[0-9-]?/.test(g)){const m=g.length-1;return g.replace(/./g,(l,x)=>{var y;(y=0===x&&/^[0-9]|-[0-9-]?/.test(l))||(y=!(/[a-zA-Z0-9_\-]/.test(l)||160<=l.charCodeAt(0)));y&&(x=x===m,l=l.charCodeAt(0).toString(16),1===l.length&&(l="0"+l),l="\\"+l+(x?"":" "));return l})}return g}function f(g){const m=
{};for(const l of g)m[l]=!0;return m}function r(g){let m=!1;if(g)try{m=1===document.querySelectorAll(`#${g}`).length}catch(x){}var l;if(l=g&&!/\s/.test(g))l=!/^[\w-]+-[a-fA-F0-9]+$/.test(g);return l&&!/[:\[\]/!.]/.test(g)&&!/\d{3,}/.test(g)&&m}if(a.nodeType!==Node.ELEMENT_NODE)return null;const t=a.getAttribute("id");if(b){if(r(t))return new x_m.DOMNodePathStep("#"+t,!0);b=a.nodeName.toLowerCase();if("body"===b||"head"===b||"html"===b)return new x_m.DOMNodePathStep(b,!0)}b=a.nodeName.toLowerCase();
if(r(t))return new x_m.DOMNodePathStep(b.toLowerCase()+"#"+t,!0);var u=a.parentNode;if(!u||u.nodeType===Node.DOCUMENT_NODE)return new x_m.DOMNodePathStep(b.toLowerCase(),!0);const v=d(a);let k=!1,h=!1,q=-1;if((u=u.children)&&u.length)for(let g=0;(-1===q||!h)&&g<u.length;++g){var p=u[g];if(p===a){q=g;continue}if(h)continue;if(p.nodeName.toLowerCase()!==b.toLowerCase())continue;k=!0;const m=f(v);let l=v.length;if(0===l)h=!0;else{p=d(p);for(var n of p)if(m.hasOwnProperty(n)&&(delete m[n],l--,0===l)){h=
!0;break}}}n=b.toLowerCase();c&&"input"===b.toLowerCase()&&a.getAttribute("type")&&!t&&0===v.length&&(n+='[type="'+a.getAttribute("type")+'"]');if(h)n+=":nth-child("+(q+1)+")";else if(k)for(const g of v)n+="."+e(g.substr(1));return new x_m.DOMNodePathStep(n,!1)},DOMNodePathStep:function(a,b){this.value=a;this.optimized=b||!1}};x_m.DOMNodePathStep.prototype={toString:function(){return this.value}};
x_m.returnOffset=function(a){if(!a.getBoundingClientRect)return{top:0,left:0,width:0,height:0};var b=(a&&a.ownerDocument).documentElement,c=a.getBoundingClientRect();return{top:Math.floor(c.top)+(window.pageYOffset||document.scrollTop||0)-(b.clientTop||0),left:Math.floor(c.left)+(window.pageXOffset||document.scrollLeft||0)-(b.clientLeft||0),width:x_m.safeMathMax([c.width,x_m.getWidth(a)]),height:x_m.safeMathMax([c.height,x_m.getHeight(a)])}};
x_m.safeMathMax=function(a){var b=[],c;for(c=0;c<a.length;c++)x_m.isNumber(a[c])&&b.push(a[c]);return 0===b.length?NaN:Math.max.apply(null,b)};x_m.getHeight=function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?document.documentElement.clientHeight:x_m.safeMathMax([a.scrollHeight,a.offsetHeight,0]):x_m.getDocumentHeight()};
x_m.getWidth=function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?document.documentElement.clientWidth:x_m.safeMathMax([a.scrollWidth,a.offsetWidth,0]):x_m.getDocumentWidth()};x_m.getDocumentHeight=function(){if(null!==document.body)return x_m.safeMathMax([document.body.offsetHeight,document.body.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,1]);setTimeout(function(){x_m.getDocumentHeight()},500)};
x_m.getDocumentWidth=function(){if(null!==document.body)return x_m.safeMathMax([document.body.offsetWidth,document.body.scrollWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,1]);setTimeout(function(){x_m.getDocumentWidth()},500)};x_m.getWindowSize=function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}};
x_m.getScrollTop=function(){return window.document.body.scrollTop||window.document.documentElement.scrollTop};x_m.isNumber=function(a){return!isNaN(a)};x_m.serialize=function(a){let b=[];for(let c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};
x_m.isRageClickx=function(a,b){a.length>=LB&&a.shift();a.push(b);if(a.length<LB)return!1;allClicksProximity=allClicksProximity=allClicksRapid=!0;for(ix=1;ix<a.length;ix++)if(allSameSelector=a[ix].s===a[ix-1].s,allClicksRapid&=Math.abs(a[ix].ti-a[ix-1].ti)<=TmInterval,allClicksProximity&=Math.abs(a[ix].x-a[ix-1].x)<=XYIntrvl,allClicksProximity&=Math.abs(a[ix].y-a[ix-1].y)<=XYIntrvl,!allClicksRapid||!allClicksProximity||!allSameSelector)return!1;return allSameSelector&&allClicksRapid&&allClicksProximity?
(_heatDBG&&console.log("rage "+b.s+"  "+b.ti),!0):!1};
x_m.hash=function(a){var b=function(l,x){return l<<x|l>>>32-x},c=function(l){var x="",y;for(y=7;0<=y;y--){var z=l>>>4*y&15;x+=z.toString(16)}return x},d,e=[],f=1732584193,r=4023233417,t=2562383102,u=271733878,v=3285377520,k=[];a=decodeURIComponent(encodeURIComponent(a));var h=a.length;for(d=0;d<h-3;d+=4){var q=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3);k.push(q)}switch(h&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(h-1)<<24|8388608;break;case 2:d=a.charCodeAt(h-
2)<<24|a.charCodeAt(h-1)<<16|32768;break;case 3:d=a.charCodeAt(h-3)<<24|a.charCodeAt(h-2)<<16|a.charCodeAt(h-1)<<8|128}for(k.push(d);14!==(k.length&15);)k.push(0);k.push(h>>>29);k.push(h<<3&4294967295);for(a=0;a<k.length;a+=16){for(d=0;16>d;d++)e[d]=k[a+d];for(d=16;79>=d;d++)e[d]=b(e[d-3]^e[d-8]^e[d-14]^e[d-16],1);q=f;h=r;var p=t;var n=u;var g=v;for(d=0;19>=d;d++){var m=b(q,5)+(h&p|~h&n)+g+e[d]+1518500249&4294967295;g=n;n=p;p=b(h,30);h=q;q=m}for(d=20;39>=d;d++)m=b(q,5)+(h^p^n)+g+e[d]+1859775393&4294967295,
g=n,n=p,p=b(h,30),h=q,q=m;for(d=40;59>=d;d++)m=b(q,5)+(h&p|h&n|p&n)+g+e[d]+2400959708&4294967295,g=n,n=p,p=b(h,30),h=q,q=m;for(d=60;79>=d;d++)m=b(q,5)+(h^p^n)+g+e[d]+3395469782&4294967295,g=n,n=p,p=b(h,30),h=q,q=m;f=f+q&4294967295;r=r+h&4294967295;t=t+p&4294967295;u=u+n&4294967295;v=v+g&4294967295}m=c(f)+c(r)+c(t)+c(u)+c(v);return m.toLowerCase()};
x_m.generateVisitId=function(){return x_m.hash((navigator.userAgent||"")+(navigator.platform||"")+window.JSON.stringify(heatBrowFeatures)+(new Date).getTime()+Math.random()).slice(0,16)};x_m.domainFixup=function(a){var b=a.length;"."===a.charAt(--b)&&(a=a.slice(0,b));"*."===a.slice(0,2)&&(a=a.slice(1));-1!==a.indexOf("/")&&(a=a.substr(0,a.indexOf("/")));return a};x_m.updateDomainHash=function(a){return x_m.hash(a+"/").slice(0,4)};var checkHeatmapIsLoaded;
checkHeatmapIsLoaded=function(){!Array.isArray(_heatmap_paq)||"complete"!=document.readyState&&"interactive"!=document.readyState||!1!==window.heatMapLoaded?setTimeout(function(){checkHeatmapIsLoaded()},7E3):(Array.isArray(_heatmap_paq)&&0==_heatmap_paq.length&&_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"]),"undefined"===typeof HeatmapsetCookie&&loadScriptHeatmap(heatUrl+`heatmap-light.min.js?sid=${preHeatmapSiteId}&src=prep`))};
"complete"!=document.readyState&&"interactive"!=document.readyState&&"loading"!=document.readyState||setTimeout(function(){checkHeatmapIsLoaded()},7E3);function heatmapCalculateDateTime(){return(new Date).toLocaleString()}function heatmapPushLogsObject(a,b="Processing Log"){a=[{log:a,title:b,date:heatmapCalculateDateTime()}];heatmapLogsObject.push(...a)}
function heatmapSessionData(){browserDetection();var a=new Date,b=x_m.getScrollTop();b=parseInt((x_m.getWindowSize().height+b)/x_m.getDocumentHeight()*1E3,10);var c="null"!==window.location.origin?window.location:window.parent.location;c=`${`${(new URL(c.origin)).hostname}${c.pathname}`.hostname}${c.pathname}`;a={preloader:1,rec:1,hsr_vid:hrs_vidp,_idv:generatedIdVisit,_idl:generatedIdloghsr,r:String(Math.random()).slice(2,8),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),idsite:preHeatmapSiteId,
send_image:0,hsr_vw:window.innerWidth,hsr_vh:window.innerHeight,res:window.innerWidth+"x"+window.innerHeight,pv_id:hrs_pvidp,heatmap_hsr:heatmapHsrIds,url:heatSiteHref,urlref:heatSiteHref,action_name:extractNameFromURL(),_idn:heatmapPNewVisitor,_id:heatPVisitIdFromStore(preHeatmapSiteId),user_agent:localStorage.getItem("_user_agent"),hsr_ti:(new Date).getTime()-pre_start_time,hsr_smp:b,hsr_fyp:parseInt(x_m.getWindowSize().height/x_m.getDocumentHeight()*1E3,10),hsr_sh:x_m.getDocumentHeight(),hsr_return:isReturningUser,
pdf:1,qt:heatBrowFeatures.qt,realp:heatBrowFeatures.realp,wma:heatBrowFeatures.wma,fla:heatBrowFeatures.fla,java:heatBrowFeatures.java,ag:heatBrowFeatures.ag,cookie:heatBrowFeatures.cookie,efs_path:c.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"_"),"hsr_ids[]":heatmapHsrIds?heatmapHsrIds:"tranc",hsr_tid:"undefined",cip:heatmapClientId,test_data:sessionState,visit_sent:visitRecordSent.visit,loghsr_sent:visitRecordSent.loghsr,sessionTags:JSON.stringify(window.heatmapSessionTag),uadata:JSON.stringify(navigator.userAgentData),
clicks:JSON.stringify(_heatmap_pre_clicks)};a._ref=document.referrer;a._ref.length||(a._ref=window.location.origin);a.urlref=a._ref;previousIdVisit&&(a.prev_idv=previousIdVisit);isGoalBuyer&&(a.buyer=isGoalBuyer,a.buyer_value=isGoalBuyerValue,a.buyer_currency=isGoalBuyerCurrency);return a}
function heatmapGenerateSession(){if(null==myHeatEnv)return{};if(!visitRecordSent.loghsr||!visitRecordSent.visit||0<window._heatmap_pre_clicks.length){if(!nodeConfigs.heatmap.heatmaps.length)return!0;if(nodeConfigs&&heatmapHsrIds){var a=heatmapSessionData();a=x_m.serialize(a);a={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};if("undefined"==typeof preHeatmapSiteId)return localStorage.removeItem("_heatmap_unsent"),
!0;navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(a));visitRecordSent.visit&&visitRecordSent.loghsr||(createNewVisitRequired&&(heartBeatBeacons+=",visits"),visitRecordSent.loghsr||(heartBeatBeacons+=",loghsrs"),heartBeatBeacons.length&&(sendHeatBeatBeacon(heartBeatBeacons,heatmapHsrIds),heartBeatBeacons=""));localStorage.removeItem("_heatmap_unsent");_heatDBG&&console.log("removed")}}}
function heatmapGenerateSessionLocal(){if(null==myHeatEnv)return{};if(0<window._heatmap_pre_clicks.length){var a=heatmapSessionData();a=x_m.serialize(a);a={Data:window.btoa(JSON.stringify(a)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};a=JSON.stringify(a);localStorage.setItem("_heatmap_unsent",a)}}window.addEventListener("beforeunload",heatmapGenerateSession,!0);
function heatPVisitIdFromStore(a){localStorage.setItem("_user_agent",navigator.userAgent);var b=localStorage.getItem("_mr_vid");if(void 0!==b&&null!==b)return b;document.cookie.split(";").forEach(e=>{var [f,r]=e.split("=");if(-1<f.indexOf(`_pk_id.${a}`))return r.trim().split(".")[0]});heatmapPNewVisitor=1;b=new Date;let c=x_m.generateVisitId();var d=getPCookieName("id");HeatPsetCookie(d,c+"."+Math.round(b.getTime()/1E3)+".",1296E5,"/",x_m.domainFixup(document.domain),"secure","Lax");localStorage.setItem("_mr_vid",
c);return c}function getPCookieName(a){return"_pk_"+a+"."+preHeatmapSiteId+"."+x_m.updateDomainHash(x_m.domainFixup(document.domain))}function heatmapMatchesIDFormat(a){const b=/#/;return/^[\w-]+-[a-fA-F0-9]+$/.test(a)||b.test(a)}function heatmapReplaceUUIDInSelector(a){const b=/#((\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|([a-f\d]{8}(-[a-f\d]{4}){3}-[a-f\d]{12}))/gi;return b.test(a)?(a=a.replace(b,""),a.includes(">")?a:null):a}
function HeatPsetCookie(a,b,c,d,e,f,r){if(c){var t=new Date;t.setTime(t.getTime()+c)}r||="Lax";document.cookie=a+"="+b+(c?";expires="+t.toGMTString():"")+";path="+(d||"/")+(e?";domain="+e:"")+(f?";secure":"")+";SameSite="+r}
function preClickworker(a){if("target"in a&&"pageY"in a&&"pageX"in a&&a.target){var b=x_m.returnOffset(a.target),c=parseInt((a.pageX-b.left)/b.width*2E3,10);b=parseInt((a.pageY-b.top)/b.height*2E3,10);var d=x_m.cssPath(a.target),e=null;try{e=document.querySelector(d)}catch(f){d=d.replace(/#[^\s>]+/,""),e=document.querySelector(d)}if(heatHasBeforeOrAfterPseudoElement(e)&&!heatDoesElementHaveChildren(e)){const f=window.getComputedStyle(e,"::after");(e=e.offsetParent)&&"BODY"!==e.tagName&&f&&"absolute"===
f.position&&"0px"===f.left&&"0px"===f.right&&"0px"===f.bottom&&(d=x_m.cssPath(e,!1))}1===c%2&&c++;1===b%2&&b++;isNaN(c)||isNaN(b)?_heatDBG&&console.log("could not detect x or y coordinate for selector "+d,a):(d=x_m.simplifyAndJoinSelectors(d),a={ti:(new Date).getTime()-pre_start_time,ty:2,s:d.replace(/"/g,""),x:c,y:b,ax:a.pageX,ay:a.pageY},a.s=heatmapReplaceUUIDInSelector(a.s),null!==a.s&&1==validateHeatSelector(a.s)&&"NaN"!==a.y&&(x_m.isRageClickx(clcks,a)&&(a.meta1="rage"),clickedSelectors.push(a),
_heatmap_pre_clicks.push({type:0,data:a}),_heatDBG&&console.log(a),heatmapGenerateSessionLocal()))}}window.addEventListener("click",preClickworker,!0);
function HeatmapLead(){window.addEventListener("message",a=>{if("https://calendly.com"===a.origin&&a.data.event&&0===a.data.event.indexOf("calendly.")){var b=a.data.event;if("calendly.event_scheduled"===b){var c=b.split(".")[1],d=a.data.payload.event.uri;a=a.data.payload.invitee.uri;c={lead_gen:1,_id:heatPVisitIdFromStore(preHeatmapSiteId),_idv:generatedIdVisit,idsite:preHeatmapSiteId,idgoal:1,eventtype:c,trigger:b,quantity:1,audit_key:"",event_link:d,invitees_link:a,device_type:heatmapPGetDeviceFromStore()};
c={Data:window.btoa(JSON.stringify(c)),PartitionKey:"partition"+10*Math.round((Math.floor(100*Math.random())+1)/10),StreamName:myHeatEnv.KINESISSTREAM};navigator.sendBeacon(`${myHeatEnv.KINESISGATEWAY}`,JSON.stringify(c))}}})}function isCalendlyLoaded(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].src&&a[b].src.includes("calendly"))return!0;return"undefined"!==typeof window.Calendly?!0:!1}function hselector(a){return document.querySelector(a)}
if(isCalendlyLoaded()){HeatmapLead();var _HeatCalendlyToken=btoa(`${generatedIdVisit}:${generatedIdloghsr}:${preHeatmapSiteId}`)}!triggerSinglepage&&window.heatmapRateLimiting&&window.heatmapRateLimiting.singlePaged&&(triggerSinglepage=!0,handleSinglePagedWebsite(window.heatmapRateLimiting.intervalTime));window.DemoModeParam=Client_url.searchParams.get("pk_demo_mode");window.retrievedDemoData=localStorage.getItem("demonstrationModeCaptureScreen");
if(DemoModeParam||retrievedDemoData)localStorage.setItem("demonstrationModeCaptureScreen",!0),loadScriptHeatmap(`${heatUrl}dmode.js`);
function processUserJourney(a,b=!1){let c=heatRetrieveStore("_heatmapConfigs","_userJourney");try{let e=1;if(c){var d=Object.keys(c);e=d.length+1}c||={};let f=`${window.location.origin}${window.location.pathname}`;c[e]={event:a.includes("pageviews")?"page_viewed":a,pageUrl:f,idVisit:generatedIdVisit,idSiteHsr:heatmapHsrIds,timeStamp:(new Date).toISOString()};a={"/cart":"cart_viewed","/checkout":"checkout_viewed","/checkout/shipping":"shipping_viewed","/checkout/complete":"conversion","/collections":"collection_viewed",
"/thank-you":"conversion","/thank_you":"thank_you"};if("page_viewed"===c[e].event){for(const r in a)(new RegExp(r,"ig")).test(f)&&(c[e].event=a[r]);"/"===window.location.pathname&&(c[e].event="homepage_viewed");1!==e&&f===c[d.length].pageUrl&&(c[e].event="page_reload",c[e].idSiteHsr&&(c[e-1].idSiteHsr=c[e].idSiteHsr));createNewVisitRequired&&(c[e].new_user=!0);"conversion"!=c[e].event||isGoalBuyer||(c[e].event="page_viewed")}parseInt(isGoalBuyer)&&(c[e].event="conversion",c[e].is_purchaser=!0,c[e].purchaser_value=
isGoalBuyerValue,localStorage.removeItem("heatIsGoalBuyer"),localStorage.removeItem("wPxIsGoalBuyer"),localStorage.removeItem("heatIsGoalBuyerValue"));if(localStorage.getItem("wPxIsGoalBuyer")&&"conversion"==c[e].event)return localStorage.removeItem("heatIsGoalBuyer"),localStorage.removeItem("wPxIsGoalBuyer"),localStorage.removeItem("heatIsGoalBuyerValue"),!0;b&&(c[e].selector=b);heatSaveStore("_userJourney",c,"_heatmapConfigs");sendHeatBeatBeacon(heartBeatBeacons,heatmapHsrIds,c);heartBeatBeacons=
""}catch(e){console.log(e)}}
setTimeout(()=>{visitRecordSent.pageview||(visitRecordSent.pageview=!0,heartBeatBeacons=",pageviews");visitRecordSent.preprocessor||(visitRecordSent.preprocessor=!0,heartBeatBeacons+=",preprocessor");createNewVisitRequired&&!visitRecordSent.to_generate&&(visitRecordSent.to_generate=!0,heartBeatBeacons+=",visits_to_generate");heartBeatBeacons.length&&processUserJourney(heartBeatBeacons);heatSaveStore("heatmapDCPageLoadTime",0,"heatmapDebugger");heatSaveStore("heatmapDCVisit",0,"heatmapDebugger");heatSaveStore("heatmapDCLogHSR",
0,"heatmapDebugger");window.ppEndTime=performance.now();window.ppExecutionTime=window.ppEndTime-window.ppStartTime;heatSaveStore("preprocessorLT",`${window.ppExecutionTime}ms`,"heatmapDebugger")},500);